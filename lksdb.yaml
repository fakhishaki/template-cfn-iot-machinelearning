Resources:
  DBSubnetGroup:
    Type: AWS::RDS::DBSubnetGroup
    Properties:
      DBSubnetGroupDescription: "subnet group for database"
      SubnetIds:
        - subnet-02760f4faac06e4cb
        - subnet-08e34d6eb57988a48
        - subnet-0d2c48d946342aae3
      Tags:
        - Key: Naame
          Value: lks-sg-db
  DBInstance:
    Type: AWS::RDS::DBInstance
    Properties:
      DBName: dbiot
      DBInstanceClass: db.t3.micro
      VPCSecurityGroups:
        - sg-07e7cde4667e72323
      Engine: mysql
      EngineVersion: 8.0.35
      DBSubnetGroupName: !Ref DBSubnetGroup
      PubliclyAccessible: false
      AllocatedStorage: 20
      MasterUsername: admin
      MasterUserPassword: Lksncc2024!
      Tags:
        - Key: Name
          Value: dbiot